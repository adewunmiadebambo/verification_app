{"ast":null,"code":"import _regeneratorRuntime from\"/Users/mac/Desktop/Klinsheet/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/mac/Desktop/Klinsheet/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/Users/mac/Desktop/Klinsheet/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState}from'react';import axios from'axios';import ButtonLoader from'../../../../component/buttonLoader/buttonLoader';import{useHistory}from'react-router';import\"../../../../scss/form.scss\";import{toast}from'react-toastify';/* Setting Parameter for request */import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var config={headers:{\"Token\":\"74a6d2f5a88d5a864b4b93d278cefe7c\",\"Content-Type\":\"application/json\"}};/* Getting input values from input fields & setting useState   */var NinForm=function NinForm(){var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),ninValue=_useState2[0],setNinValue=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),firstName=_useState4[0],setFirstName=_useState4[1];var _useState5=useState(\"\"),_useState6=_slicedToArray(_useState5,2),lastName=_useState6[0],setLastName=_useState6[1];var _useState7=useState(\"\"),_useState8=_slicedToArray(_useState7,2),dob=_useState8[0],setDOB=_useState8[1];var _useState9=useState(false),_useState10=_slicedToArray(_useState9,2),errMsg=_useState10[0],setErrMsg=_useState10[1];var history=useHistory();var _useState11=useState(false),_useState12=_slicedToArray(_useState11,2),loading=_useState12[0],setLoading=_useState12[1];var _useState13=useState(false),_useState14=_slicedToArray(_useState13,2),isChecked=_useState14[0],setIsChecked=_useState14[1];var handleOnChange=function handleOnChange(){setIsChecked(!isChecked);};/* setting the parameter needed from the backend */var userData={\"report_type\":\"identity\",\"type\":\"nin\",\"reference\":ninValue,\"last_name\":lastName,\"first_name\":firstName,\"dob\":dob,\"subject_consent\":true};/* -----------calling the Api------------------ */var verify=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(e){var _yield$axios$post,data,_data$data,_error$response,_error$response$data,_error$response2,_error$response2$data;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:e.preventDefault();if(!(ninValue.length===11)){_context.next=22;break;}setErrMsg(false);setLoading(true);_context.prev=4;_context.next=7;return axios.post('https://api.youverify.co/v1/identities/candidates/check',userData,config);case 7:_yield$axios$post=_context.sent;data=_yield$axios$post.data;console.log(data);setLoading(false);if(data.status_code===200){history.push('/valid',{userData:data===null||data===void 0?void 0:(_data$data=data.data)===null||_data$data===void 0?void 0:_data$data.response,idNumber:ninValue,pageType:\"NinForm\"});}_context.next=20;break;case 14:_context.prev=14;_context.t0=_context[\"catch\"](4);if((_context.t0===null||_context.t0===void 0?void 0:(_error$response=_context.t0.response)===null||_error$response===void 0?void 0:(_error$response$data=_error$response.data)===null||_error$response$data===void 0?void 0:_error$response$data.status_code)===404){history.push('/invalid');}console.log(_context.t0);setLoading(false);toast.error(_context.t0===null||_context.t0===void 0?void 0:(_error$response2=_context.t0.response)===null||_error$response2===void 0?void 0:(_error$response2$data=_error$response2.data)===null||_error$response2$data===void 0?void 0:_error$response2$data.message);case 20:_context.next=23;break;case 22:setErrMsg(true);case 23:case\"end\":return _context.stop();}}},_callee,null,[[4,14]]);}));return function verify(_x){return _ref.apply(this,arguments);};}();/*------------------- Verification Button --------------------------------- */function VerifyButton(){if(firstName&&lastName&&dob&&ninValue&&ninValue.length===11&&isChecked){return/*#__PURE__*/_jsxs(\"button\",{className:\"form-control veri_btn\",children:[loading?\" verifying\":\"verify\",loading&&/*#__PURE__*/_jsx(ButtonLoader,{}),\" \"]});}else if(loading){return/*#__PURE__*/_jsxs(\"button\",{className:\"form-control veri_btn\",disabled:true,children:[loading&&/*#__PURE__*/_jsx(ButtonLoader,{}),loading?\" verifying\":\"verify\",\" \"]});}else return/*#__PURE__*/_jsx(\"button\",{className:\"form-control noveri_btn\",disabled:true,children:\"Verify\"});}/*------------------------- Input Field------------------------------------- */return/*#__PURE__*/_jsx(\"div\",{id:\"form1\",children:/*#__PURE__*/_jsxs(\"form\",{onSubmit:verify,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"container-fluid form_area\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"row form_row\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"col-md-6 co-12 text-center\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"input_area\",onChange:function onChange(e){return setLastName(e.target.value);},placeholder:\"Candidate's Lastname\"}),\" \"]}),/*#__PURE__*/_jsxs(\"div\",{className:\"col-md-6 col-12 text-center rgt\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"input_area\",onChange:function onChange(e){return setFirstName(e.target.value);},placeholder:\"Candidate's Firstname\"}),\" \"]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"row\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"col-md-6 col-12 text-center \",children:[/*#__PURE__*/_jsx(\"input\",{type:\"date\",className:\"input_area\",onChange:function onChange(e){return setDOB(e.target.value);}}),\" \"]}),/*#__PURE__*/_jsxs(\"div\",{className:\"col-md-6 col-12 text-center rgt\",children:[\" \",/*#__PURE__*/_jsx(\"input\",{type:\"tel\",className:\"input_area\",value:ninValue,placeholder:\"National Identification No\",maxLength:\"11\",onChange:function onChange(e){return setNinValue(e.target.value);}}),\" \"]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"row\",children:[/*#__PURE__*/_jsx(\"input\",{id:\"consent-check\",className:\"col-md-1 col-1\",type:\"checkbox\",value:\"check\",checked:isChecked,onChange:handleOnChange}),/*#__PURE__*/_jsxs(\"label\",{for:\"consent-check\",className:\" col-md-11 col-11 no-select\",children:[\"By checking this box and clicking \\\"Verify Candidate\\\", you acknowledge that you have gotten consent from the data subject to use their data for verification purposes on our platform in accordance with our \\xA0\",/*#__PURE__*/_jsx(\"a\",{href:\"https://klincheck.com/cookie.php\",target:\"_blank\",children:\"Privacy Policy\"})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"\",children:errMsg&&/*#__PURE__*/_jsx(\"p\",{style:{color:\"crimson\",fontSize:\"12px\",marginTop:\"7px\"},children:\"NIN must be 11 digits\"})}),/*#__PURE__*/_jsx(VerifyButton,{className:\"text-center \"})]})});};export default NinForm;","map":{"version":3,"sources":["/Users/mac/Desktop/Klinsheet/src/pages/Homepage/IdTypes/nin/ninForm.jsx"],"names":["React","useState","axios","ButtonLoader","useHistory","toast","config","headers","NinForm","ninValue","setNinValue","firstName","setFirstName","lastName","setLastName","dob","setDOB","errMsg","setErrMsg","history","loading","setLoading","isChecked","setIsChecked","handleOnChange","userData","verify","e","preventDefault","length","post","data","console","log","status_code","push","response","idNumber","pageType","error","message","VerifyButton","target","value","color","fontSize","marginTop"],"mappings":"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","sourcesContent":["import React, {useState} from 'react';\nimport axios from 'axios';\nimport ButtonLoader from '../../../../component/buttonLoader/buttonLoader';\nimport { useHistory } from 'react-router';\nimport \"../../../../scss/form.scss\"\nimport { toast } from 'react-toastify';\n\n\n/* Setting Parameter for request */\nconst config = {\n    headers: {\n       \"Token\": \"74a6d2f5a88d5a864b4b93d278cefe7c\",\n       \"Content-Type\": \"application/json\"\n       }\n}\n\n\n/* Getting input values from input fields & setting useState   */\nconst NinForm = () => {\n    const [ninValue, setNinValue] = useState(\"\");\n    const [firstName, setFirstName] = useState(\"\");\n    const [lastName, setLastName] = useState(\"\");\n    const [dob, setDOB] = useState(\"\");\n    const [errMsg, setErrMsg] = useState(false);\n    const history = useHistory();\n    const [loading, setLoading] = useState(false);\n    const [isChecked, setIsChecked] = useState(false);\n    const handleOnChange = () => {\n        setIsChecked(!isChecked);\n      };\n    \n    \n    \n/* setting the parameter needed from the backend */\n    const userData = { \n        \"report_type\": \"identity\", \n        \"type\": \"nin\", \n        \"reference\": ninValue,\n        \"last_name\": lastName,\n        \"first_name\": firstName,\n        \"dob\": dob,\n        \"subject_consent\": true \n       }\n\n /* -----------calling the Api------------------ */\n\n       const verify = async (e) => {\n        e.preventDefault()\n        if (ninValue.length ===11) {\n            setErrMsg(false)\n            setLoading(true)\n            try {\n                const {data} = await axios.post('https://api.youverify.co/v1/identities/candidates/check', userData, config)\n                console.log(data)\n                setLoading(false)\n                if(data.status_code === 200) {\n                     history.push('/valid', {userData: data?.data?.response, idNumber:ninValue, pageType:\"NinForm\"})\n                } \n            } catch (error) {\n                if (error?.response?.data?.status_code === 404){\n                    history.push('/invalid')\n                }\n                console.log(error)\n                setLoading(false)\n                toast.error(error?.response?.data?.message)\n            }\n           } else {\n                setErrMsg(true)\n           }\n            }\n /*------------------- Verification Button --------------------------------- */ \n       function VerifyButton() {\n        if (firstName && lastName && dob && ninValue && ninValue.length ===11 && isChecked) {\n            return <button className=\"form-control veri_btn\" >{loading ? \" verifying\" : \"verify\"  }{loading && <ButtonLoader/>} </button>\n        } else if (loading) {return <button className=\"form-control veri_btn\" disabled >{loading && <ButtonLoader/>}{loading ? \" verifying\" : \"verify\"  } </button>\n        } else return <button className=\"form-control noveri_btn\" disabled >Verify</button>\n       }\n/*------------------------- Input Field------------------------------------- */\n    return (\n        <div id=\"form1\">\n             <form onSubmit={verify}>\n                  <div className=\"container-fluid form_area\">\n                     <div className=\"row form_row\">\n                         <div className=\"col-md-6 co-12 text-center\"><input type=\"text\" className=\"input_area\" onChange={e => setLastName(e.target.value)} placeholder=\"Candidate's Lastname\"/> </div>\n                      \n                         <div className=\"col-md-6 col-12 text-center rgt\"><input type=\"text\" className=\"input_area\" onChange={e => setFirstName(e.target.value)} placeholder=\"Candidate's Firstname\"/> </div>\n                    </div>\n                        \n                        <div className=\"row\">\n                        <div className=\"col-md-6 col-12 text-center \"><input type=\"date\" className=\"input_area\" onChange={e => setDOB(e.target.value)} /> </div>\n                        \n                        <div className=\"col-md-6 col-12 text-center rgt\"> <input type=\"tel\" className=\"input_area\" value={ninValue} placeholder=\"National Identification No\" maxLength=\"11\" onChange={(e)=> setNinValue(e.target.value)} /> </div>\n                         </div>\n                         </div>\n                         <div className=\"row\">\n                         <input id=\"consent-check\" className=\"col-md-1 col-1\" type=\"checkbox\" value=\"check\" checked={isChecked} onChange={handleOnChange}></input>\n                         <label for=\"consent-check\" className=\" col-md-11 col-11 no-select\">\n                                By checking this box and clicking \"Verify Candidate\", you acknowledge\n                                that you have gotten consent from the data subject to use their data\n                                for verification purposes on our platform in accordance with our &nbsp;\n                                <a href=\"https://klincheck.com/cookie.php\" target=\"_blank\">Privacy Policy</a></label>\n                        </div>\n                         \n                <div className=\"\">{errMsg && <p style={{color: \"crimson\", fontSize: \"12px\", marginTop: \"7px\"}}>NIN must be 11 digits</p>}</div>\n                <VerifyButton className=\"text-center \"/>\n            </form>\n            \n        </div>\n    )\n}\n\n\nexport default NinForm\n"]},"metadata":{},"sourceType":"module"}